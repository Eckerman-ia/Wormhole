<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>About:Cloak</title>
    <style>
        /* Add your existing styles here */
    </style>
</head>
<body>
    <h1>About:Cloak</h1>
    <p>This page is in cloak mode.</p>
    <p>You can turn off Cloak Mode below.</p>
    <button onclick="turnOffCloak()">Turn Off Cloak Mode</button>

    <h2>Search:</h2>
    <input type="text" id="searchInput" placeholder="Enter search query">
    <button id="searchButton">Search</button>

    <div id="additionalSettings">
        <h2>Additional Settings:</h2>
        <label for="themeSelector">Select Theme:</label>
        <select id="themeSelector">
            <option value="dark">Dark Theme</option>
            <option value="light">Light Theme</option>
        </select>

        <label for="fontSize">Adjust Font Size:</label>
        <input type="range" id="fontSize" min="10" max="24" step="1" value="16">

        <p>More settings can be added here...</p>
    </div>

    <script src="search.js"></script>
    <script>
        function turnOffCloak() {
            // Change the page back to about:blank
            window.location.href = 'about:blank';
        }

        document.getElementById('searchButton').addEventListener('click', function() {
            // Get the search input and template from the user
            const searchInput = document.getElementById('searchInput').value;
            const templateURL = "https://www.example.com/search?q=%s"; // Replace with your website's search template URL

            // Use the search function to generate the search URL
            const result = search(searchInput, templateURL);
            console.log("Search Result:", result);

            // You can redirect to the search result URL if needed
            // window.location.href = result;
        });

        // Additional settings handling (just an example)
        const themeSelector = document.getElementById('themeSelector');
        const fontSizeInput = document.getElementById('fontSize');

        themeSelector.addEventListener('change', function() {
            document.body.style.backgroundColor = themeSelector.value === 'dark' ? '#333' : '#fff';
            document.body.style.color = themeSelector.value === 'dark' ? '#fff' : '#333';
        });

        fontSizeInput.addEventListener('input', function() {
            document.body.style.fontSize = fontSizeInput.value + 'px';
        });
    </script>
</body>
</html>
